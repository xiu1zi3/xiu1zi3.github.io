(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{364:function(t,a,s){"use strict";s.r(a);var n=s(8),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"wait-和-notify-是属于-object-类的方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wait-和-notify-是属于-object-类的方法"}},[t._v("#")]),t._v(" wait 和 notify 是属于 Object 类的方法")]),t._v(" "),a("blockquote",[a("p",[t._v("众所周知，Object 是祖宗类，Thread 类理所应当可以用 Object 类的方法")])]),t._v(" "),a("div",{staticClass:"language-mermaid extra-class"},[a("pre",{pre:!0,attrs:{class:"language-mermaid"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("flowchart")]),t._v(" LR\n      A"),a("span",{pre:!0,attrs:{class:"token text string"}},[t._v('["Object类"]')]),t._v("\n      B"),a("span",{pre:!0,attrs:{class:"token text string"}},[t._v('["Thread类"]')]),t._v("\n      C"),a("span",{pre:!0,attrs:{class:"token text string"}},[t._v('["sleep()方法"]')]),t._v("\n      D"),a("span",{pre:!0,attrs:{class:"token text string"}},[t._v('["interrupt()方法"]')]),t._v("\n      E"),a("span",{pre:!0,attrs:{class:"token text string"}},[t._v('["wait()方法"]')]),t._v("\n      F"),a("span",{pre:!0,attrs:{class:"token text string"}},[t._v('["interrupt()方法"]')]),t._v("\n      A"),a("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v("C\n      A"),a("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v("D\n      B"),a("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v("E\n      B"),a("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v("F\n")])])]),a("p",[t._v("sleep()方法有 1 个参数：毫秒时间，wait 是无限期等待")]),t._v(" "),a("h3",{attrs:{id:"作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[t._v("#")]),t._v(" 作用")]),t._v(" "),a("p",[a("strong",[t._v("对线程的效果")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bew  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("调用"),a("code",[t._v("wait()")]),t._v("方法的线程，立刻进入无限期等待")]),t._v(" "),a("p",[t._v("直到 "),a("code",[t._v("notify()")]),t._v("把进入了无限等待的线程唤醒")]),t._v(" "),a("p",[a("strong",[t._v("对象 o 调用 wait 方法，在对象 o 上面活动的线程 t 进入等待状态")]),t._v("，并且线程 t 释放占用的 对象 o 的锁")]),t._v(" "),a("p",[a("strong",[t._v("对象 o 调用 notify 方法，唤醒正在对象 o 上的等待的线程")]),t._v("，并不释放 对象 o 被占用的 的锁")]),t._v(" "),a("p",[t._v("如果所有线程都在等待相同的条件，并且一次只有一个线程可以从条件变为 true，则可以使用 notify over notifyAll。\n在这种情况下，notify 是优于 notifyAll 因为唤醒所有这些因为我们知道只有一个线程会受益而所有其他线程将再次等待，没必要 notifyAll 方法")]),t._v(" "),a("h3",{attrs:{id:"要与线程同步机制配合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#要与线程同步机制配合"}},[t._v("#")]),t._v(" 要与线程同步机制配合")]),t._v(" "),a("p",[a("strong",[t._v("wait 和 notify 通常并不用来做线程同步")]),t._v("\n如果要实现生产者-消费者模型，wait 和 notify 反而是要和线程同步机制配合！")])])}),[],!1,null,null,null);a.default=e.exports}}]);